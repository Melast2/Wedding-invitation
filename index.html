<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω–∫–∞ ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Raleway:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --burgundy: #722f37;
            --gold: #d4af37;
            --gold-light: #f0e6c8;
            --cream: #fdfbf7;
            --dark: #1a1a1a;
        }

        body {
            font-family: 'Raleway', sans-serif;
            background: 
                radial-gradient(ellipse at 20% 80%, rgba(232, 196, 196, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                linear-gradient(180deg, #fdfbf7 0%, #f5efe6 100%);
            min-height: 100vh;
            padding: 40px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-container {
            background: white;
            border-radius: 24px;
            padding: 60px 50px;
            max-width: 700px;
            width: 100%;
            box-shadow: 0 30px 60px rgba(0,0,0,0.1);
        }

        .admin-title {
            font-family: 'Playfair Display', serif;
            font-size: 42px;
            text-align: center;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .admin-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 50px;
            font-size: 15px;
        }

        .form-section {
            margin-bottom: 35px;
        }

        .form-label {
            display: block;
            margin-bottom: 12px;
            font-size: 14px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        .guest-select-wrapper {
            position: relative;
        }

        .guest-select-wrapper::after {
            content: '‚ñº';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gold);
            pointer-events: none;
            font-size: 12px;
        }

        select {
            width: 100%;
            padding: 16px 50px 16px 20px;
            border: 2px solid #eee;
            border-radius: 12px;
            font-family: inherit;
            font-size: 16px;
            background: #fafafa;
            appearance: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        select:focus {
            outline: none;
            border-color: var(--gold);
            background: white;
        }

        .link-section {
            margin-top: 40px;
            padding: 30px;
            background: var(--gold-light);
            border-radius: 16px;
            display: none;
        }

        .link-section.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .link-label {
            font-size: 13px;
            color: var(--burgundy);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        .link-input-wrapper {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .link-input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid white;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            background: white;
            color: var(--dark);
        }

        .btn {
            background: linear-gradient(135deg, var(--gold) 0%, #c9a030 100%);
            color: white;
            padding: 14px 30px;
            border-radius: 10px;
            border: none;
            font-family: inherit;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4);
        }

        .btn-secondary {
            background: white;
            color: var(--burgundy);
            border: 2px solid var(--gold);
        }

        .btn-secondary:hover {
            background: var(--gold-light);
        }

        .success-message {
            color: var(--burgundy);
            font-size: 13px;
            margin-top: 10px;
            display: none;
        }

        .success-message.show {
            display: block;
        }

        .info-box {
            background: #f8f8f8;
            border-left: 4px solid var(--gold);
            padding: 20px;
            border-radius: 0 12px 12px 0;
            margin-top: 30px;
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        .info-box strong {
            color: var(--burgundy);
        }

        .guest-name-preview {
            font-family: 'Playfair Display', serif;
            font-size: 20px;
            color: var(--burgundy);
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: var(--gold-light);
            border-radius: 10px;
            display: none;
        }

        .guest-name-preview.show {
            display: block;
        }

        @media (max-width: 600px) {
            .admin-container {
                padding: 40px 30px;
            }

            .admin-title {
                font-size: 32px;
            }

            .link-input-wrapper {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <h1 class="admin-title">–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</h1>
        <p class="admin-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Å—Ç—è –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏</p>

        <div class="form-section">
            <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Å—Ç—è</label>
            <div class="guest-select-wrapper">
                <select id="guestSelect">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–º—è –≥–æ—Å—Ç—è --</option>
                    <!-- 
                        –í–ê–ñ–ù–û: –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º–µ–Ω–∞ –≥–æ—Å—Ç–µ–π –≤ —Å–ø–∏—Å–∫–µ –Ω–∏–∂–µ.
                        –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É <option value="–ò–º—è">–ò–º—è</option> –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º—è.
                    -->
                    <option value="–ê–Ω–Ω–∞">–ê–Ω–Ω–∞</option>
                    <option value="–î–º–∏—Ç—Ä–∏–π">–î–º–∏—Ç—Ä–∏–π</option>
                    <option value="–ú–∞—Ä–∏—è">–ú–∞—Ä–∏—è</option>
                    <option value="–ê–ª–µ–∫—Å–µ–π">–ê–ª–µ–∫—Å–µ–π</option>
                    <option value="–ï–ª–µ–Ω–∞">–ï–ª–µ–Ω–∞</option>
                    <option value="–ò–≤–∞–Ω">–ò–≤–∞–Ω</option>
                    <option value="–û–ª—å–≥–∞">–û–ª—å–≥–∞</option>
                    <option value="–°–µ—Ä–≥–µ–π">–°–µ—Ä–≥–µ–π</option>
                    <option value="–¢–∞—Ç—å—è–Ω–∞">–¢–∞—Ç—å—è–Ω–∞</option>
                    <option value="–ê–Ω–¥—Ä–µ–π">–ê–Ω–¥—Ä–µ–π</option>
                    <option value="–ù–∞—Ç–∞–ª—å—è">–ù–∞—Ç–∞–ª—å—è</option>
                    <option value="–í–ª–∞–¥–∏–º–∏—Ä">–í–ª–∞–¥–∏–º–∏—Ä</option>
                    <!-- –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –∏–º—ë–Ω –∑–¥–µ—Å—å -->
                </select>
            </div>
            <div class="guest-name-preview" id="guestPreview"></div>
        </div>

        <div class="link-section" id="linkSection">
            <label class="link-label">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏</label>
            <div class="link-input-wrapper">
                <input type="text" class="link-input" id="linkInput" readonly>
                <button class="btn" id="copyBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
            <button class="btn btn-secondary" id="openBtn" style="width: 100%; margin-top: 10px;">üëÅÔ∏è –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</button>
            <p class="success-message" id="successMessage">‚úì –°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!</p>
        </div>

        <div class="info-box">
            <strong>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong><br>
            1. –í—ã–±–µ—Ä–∏—Ç–µ –∏–º—è –≥–æ—Å—Ç—è –∏–∑ —Å–ø–∏—Å–∫–∞<br>
            2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É<br>
            3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –≥–æ—Å—Ç—é –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –∏–ª–∏ –ø–æ email<br>
            4. –ì–æ—Å—Ç—å –æ—Ç–∫—Ä–æ–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Å–æ —Å–≤–æ–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ –≤ —Ç–µ–∫—Å—Ç–µ
        </div>
    </div>

    <script>
        const guestSelect = document.getElementById('guestSelect');
        const linkSection = document.getElementById('linkSection');
        const linkInput = document.getElementById('linkInput');
        const copyBtn = document.getElementById('copyBtn');
        const openBtn = document.getElementById('openBtn');
        const successMessage = document.getElementById('successMessage');
        const guestPreview = document.getElementById('guestPreview');

        // Get current page URL base
        const baseUrl = window.location.origin + window.location.pathname.replace('index.html', '');
        const invitationUrl = baseUrl + 'invitation.html';

        guestSelect.addEventListener('change', function() {
            const selectedGuest = this.value;
            
            if (selectedGuest) {
                // Show guest preview
                guestPreview.textContent = `–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è: ${selectedGuest}`;
                guestPreview.classList.add('show');
                
                // Generate personal link
                const personalLink = `${invitationUrl}?guest=${encodeURIComponent(selectedGuest)}`;
                linkInput.value = personalLink;
                linkSection.classList.add('show');
                
                // Update open button
                openBtn.onclick = function() {
                    window.open(personalLink, '_blank');
                };
            } else {
                linkSection.classList.remove('show');
                guestPreview.classList.remove('show');
            }
        });

        copyBtn.addEventListener('click', function() {
            linkInput.select();
            linkInput.setSelectionRange(0, 99999); // For mobile devices
            
            try {
                navigator.clipboard.writeText(linkInput.value).then(function() {
                    showSuccess();
                });
            } catch (err) {
                // Fallback for older browsers
                document.execCommand('copy');
                showSuccess();
            }
        });

        function showSuccess() {
            successMessage.classList.add('show');
            copyBtn.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
            copyBtn.style.background = '#4caf50';
            
            setTimeout(function() {
                successMessage.classList.remove('show');
                copyBtn.textContent = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
                copyBtn.style.background = '';
            }, 2000);
        }

        // Allow manual selection for copying
        linkInput.addEventListener('click', function() {
            this.select();
        });
    </script>
</body>
</html>
